import streamlit as st
from datetime import datetime

st.set_page_config(page_title="–û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ö–¢–°", layout="wide")

# --- –ü–µ—Ä–∏–æ–¥ —Ä–∞—Å—á–µ—Ç–∞ (–æ—Ç–¥–µ–ª—å–Ω–æ —Å–≤–µ—Ä—Ö—É) ---
period_options = [
    "–ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü",
    "–ü–æ—Å–ª–µ–¥–Ω–∏–µ 3 –º–µ—Å—è—Ü–∞",
    "–ü–æ—Å–ª–µ–¥–Ω–∏–µ 6 –º–µ—Å—è—Ü–µ–≤",
    "–ì–æ–¥–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω",
    "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Å—è—Ü"
]
selected_period = st.selectbox("–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ —Ä–∞—Å—á–µ—Ç–∞", period_options)

if selected_period == "–ì–æ–¥–æ–≤–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω":
    start_year = st.number_input("–ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ (–≥–æ–¥)", min_value=2010, max_value=datetime.now().year, value=datetime.now().year-1)
elif selected_period == "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–µ—Å—è—Ü":
    selected_month = st.date_input("–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—è—Ü", value=datetime.now())

st.divider()

# --- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –≤ 2 –∫–æ–ª–æ–Ω–∫–∏ ---
col1, col2 = st.columns(2)

with col1:
# --- –ú–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è ---
    brand_options = ["–í–ê–ó"]
    brand = st.selectbox("–ú–∞—Ä–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è", brand_options)

    # --- –ú–æ–¥–µ–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞ ---
    model_group_options = ["Lada Granta", "Lada Vesta", "Lada Niva"]
    model_group = st.selectbox("–ú–æ–¥–µ–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞", model_group_options)

    # --- –ú–æ–¥–µ–ª—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞ ---
    model_name_options = ["Granta 1.6 AT", "Vesta SW Cross", "Niva Legend 4x4"]
    model_name = st.selectbox("–ú–æ–¥–µ–ª—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞", model_name_options)

    # --- –†–µ–≥–∏–æ–Ω ---
    region_options = ["–ú–æ—Å–∫–≤–∞", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π", "–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", "–¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω"]
    region = st.selectbox("–†–µ–≥–∏–æ–Ω (–æ–±–ª–∞—Å—Ç—å –∏–ª–∏ –≥–æ—Ä–æ–¥)", region_options)


with col2:
    probeg = st.number_input("–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–±–µ–≥ –ö–¢–° (–∫–º)", min_value=0, step=1000, format="%d")
    current_year = datetime.now().year
    god_vypuska = st.number_input("–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ –ö–¢–°", min_value=1980, max_value=current_year, step=1)

    uslovie_options = {
        "–û–±—ã—á–Ω—ã–µ (–≥–æ—Ä–æ–¥/—Ç—Ä–∞—Å—Å–∞)": 0,
        "–¢—è–∂–µ–ª—ã–µ (—Ç–∞–∫—Å–∏, –±–µ–∑–¥–æ—Ä–æ–∂—å–µ, –≥—Ä—É–∑–æ–≤—ã–µ)": -5,
        "–©–∞–¥—è—â–∏–µ (—Ä–µ–¥–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)": 2,
    }
    uslovie_label = st.selectbox("–£—Å–ª–æ–≤–∏—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏", list(uslovie_options.keys()))

    Cdop_options = [
        "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è",
        "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞ —Ç—é–Ω–∏–Ω–≥",
        "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞ —Ä–∞–∑—É–∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—é",
        "–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π",
        "–ò–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Å—Ç–æ–∏–º–æ—Å—Ç—å",
    ]
    Cdop_choice = st.selectbox("–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ (–°–¥–æ–ø)", Cdop_options)


st.divider()

# --- –ö–Ω–æ–ø–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ ---
if st.button("üîç –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ö–¢–°"):
    fake_price = 633000  # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ—Ç–æ–º –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç

    st.success(f"–†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å: {fake_price:,.0f} —Ä—É–±.".replace(',', ' '))
    
    st.write(f"–ú–∞—Ä–∫–∞: {brand}")
    st.write(f"–ú–æ–¥–µ–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞: {model_group}")
    st.write(f"–ú–æ–¥–µ–ª—å: {model_name}")
    st.write(f"–†–µ–≥–∏–æ–Ω: {region}")
    st.write(f"–§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–±–µ–≥: {probeg} –∫–º")
    st.write(f"–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞: {god_vypuska}")
    st.write(f"–£—Å–ª–æ–≤–∏—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏: {uslovie_label}")
    st.write(f"–í—ã–±—Ä–∞–Ω–Ω–∞—è –¥–æ–ø. –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞: {Cdop_choice}")

